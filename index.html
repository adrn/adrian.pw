<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Adrian M. Price-Whelan</title>

    <!-- Bootstrap Core CSS -->
    <!-- <link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet" type="text/css"> -->
    <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">

    <!-- Fonts -->
    <!-- <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,400italic,300italic,100,100italic,300,500,700,500italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700,100italic,300italic,400italic,700italic' rel='stylesheet' type='text/css'>

    <!-- Custom Theme CSS -->
    <link href="css/grayscale.css" rel="stylesheet">

    <!-- My custom CSS -->
    <link href="css/custom.css" rel="stylesheet" type="text/css">

</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-custom">

    <nav class="navbar navbar-custom navbar-fixed-top darken-bg-40" role="navigation">
        <div class="container">
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
                    <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand" href="#page-top">
                    <i class="fa fa-chevron-circle-up"></i>
                    <!-- <span style="font-weight: 100;">|</span> -->
                    &nbsp;&nbsp;
                    <span class="light">
                        adrian m. price-whelan
                        &nbsp;&nbsp;&#8857;&#8853;
                    </span>
                </a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-right navbar-main-collapse">
                <ul class="nav navbar-nav">
                    <!-- Hidden li included to remove active class from about link when scrolled up past about section -->
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li class="page-scroll">
                        <a href="#about">about</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#writing">writing</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#research">research</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Intro -->
    <section class="full-page intro">
        <div class="section-body">
            <div class="container">
                <div class="row">
                    <div class="col-md-8 col-md-offset-2">
                        <!-- <h1 class="brand-heading">&#8857;&#8853;</h1> -->
                        <p class="intro-text">
                            <a href="https://github.com/adrn"><i class="fa fa-github fa-3x"></i></a>
                            <a href="https://twitter.com/adrianprw"><i class="fa fa-twitter fa-3x"></i></a>
                            <a href="http://www.flickr.com/photos/ap-w/"><i class="fa fa-flickr fa-3x"></i></a>
                            <a href="http://arxiv.org/find/all/1/OR+au:price_whelan+all:+EXACT+price_whelan/0/1/0/all/0/1"><i class="fa fa-flask fa-3x"></i></a>
                            <a href="http://www.last.fm/user/adrianpw"><i class="fa fa-music fa-3x"></i></a>
                            <a href="https://www.linkedin.com/profile/view?id=318215201"><i class="fa fa-linkedin-square fa-3x"></i></a>
                        </p>
                        <div class="page-scroll">
                            <a href="#about" class="btn btn-circle">
                                <i class="fa fa-angle-double-down"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About -->
    <section id="about" class="full-page">
        <div class="about-section">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2 light">
                        <h2 class="italic">Adrian M. Price-Whelan</h2>
                        <hr width="25%" />
                        <p>NSF graduate research fellow at <a href="http://astro.columbia.edu">Columbia University</a></p>
                        <p>Astrophysicist currently interested in tidal streams and Galactic dynamics</p>
                        <p>Open source <a href="http://osrc.dfm.io/adrn">enthusiast</a>, hacker, <a href="https://github.com/adrn">developer</a></p>
                        <p>Bassist in <a href="http://deathrayarch.bandcamp.com/releases">death ray architect</a>, avid traveler, enjoys <a href="http://www.flickr.com/photos/ap-w/">photography</a></p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Writing -->
    <section id="writing" class="full-page">
        <div class="section-body">
            <div class="container" style="position: relative;">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <h2 class="italic">Recent papers</h2>
                        <hr width="25%" />
                        <div id="recent-papers"></div>
                        <a href="http://adsabs.harvard.edu/cgi-bin/nph-abs_connect?db_key=AST&db_key=PRE&qform=AST&arxiv_sel=astro-ph&arxiv_sel=cond-mat&arxiv_sel=cs&arxiv_sel=gr-qc&arxiv_sel=hep-ex&arxiv_sel=hep-lat&arxiv_sel=hep-ph&arxiv_sel=hep-th&arxiv_sel=math&arxiv_sel=math-ph&arxiv_sel=nlin&arxiv_sel=nucl-ex&arxiv_sel=nucl-th&arxiv_sel=physics&arxiv_sel=quant-ph&arxiv_sel=q-bio&sim_query=YES&ned_query=YES&adsobj_query=YES&aut_logic=OR&obj_logic=OR&author=%5Eprice-whelan%2C+a+m&object=&start_mon=&start_year=&end_mon=&end_year=&ttl_logic=OR&title=&txt_logic=OR&text=&nr_to_return=200&start_nr=1&jou_pick=ALL&ref_stems=&data_and=ALL&group_and=ALL&start_entry_day=&start_entry_mon=&start_entry_year=&end_entry_day=&end_entry_mon=&end_entry_year=&min_score=&sort=SCORE&data_type=SHORT&aut_syn=YES&ttl_syn=YES&txt_syn=YES&aut_wt=1.0&obj_wt=1.0&ttl_wt=0.3&txt_wt=3.0&aut_wgt=YES&obj_wgt=YES&ttl_wgt=YES&txt_wgt=YES&ttl_sco=YES&txt_sco=YES&version=1" class="btn btn-default btn-lg">ADS search</a>
                        <a href="http://arxiv.org/find/all/1/OR+au:price_whelan+all:+EXACT+price_whelan/0/1/0/all/0/1" class="btn btn-default btn-lg">arXiv search</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Active research -->
    <section id="research" class="full-page" style="padding-top: 0px;">
        <div class="section-body">
            <div class="container" style="position: relative;">
                <div class="row" style="margin-bottom: 20px;">
                    <div class="col-lg-8 col-lg-offset-2">
                        <h2 class="italic">Current research</h2>
                        <a class="btn btn-default" id="select-streams" row="research-streams">Tidal Streams</a>
                        <a class="btn btn-default" id="select-chaos" row="research-chaos">Milky Way Chaos</a>
                        <!-- <hr width="25%" /> -->
                    </div>
                </div>
                <div class="row" id="research-streams">
                    <div class="col-md-4 col-lg-offset-1">
                        <a href="streams.html" class="topic">Tidal Streams</a>
                        <hr width="25%" />
                        <p class="description">Stellar streams form when galaxies or globular clusters are tidally disrupted by the gravitational field of a larger galaxy. Tidal streams are observed in the halo of the Milky Way --- for example the Sagittarius, Orphan, or Palomar 5 streams --- and are also found around external galaxies. Tidal streams in the halo of the Milky Way are powerful tracers of the underlying shape and distribution of mass in the Galactic dark matter halo.</p>
                        <p class="description">Understanding how tidal streams form and evolve will allow us to measure detailed properties of the Milky Way's gravitational field at large distances and therefore place constraints on the behavior of dark matter on galactic scales.</p>
                    </div>
                    <div class="col-lg-6">

                        <div class="canvas-container">
                            <div class="floating-controls">
                                <i class="fa fa-play fa-btn" id="startStream"></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                <i class="fa fa-stop fa-btn" id="stopStream"></i>
                            </div>
                            <canvas id="stream-canvas"></canvas>
                        </div>
                    </div>
                </div>
                <div class="row" id="research-chaos">
                    <div class="col-md-4 col-lg-offset-1">
                        <a href="streams.html" class="topic">Chaos in the Milky Way Halo</a>
                        <hr width="25%" />
                        <p class="description">Dynamical chaos occurs when a system displays extreme sensitivity to initial conditions and can lead to orbits that ...</p>
                        <p class="description"></p>
                    </div>
                    <div class="col-lg-6">

                        <div class="canvas-container">
                            <div class="floating-controls">
                                <i class="fa fa-play fa-btn" id="startChaos"></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                <i class="fa fa-stop fa-btn" id="stopChaos"></i>
                            </div>
                            <canvas id="chaos-canvas"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Photos -->
    <!-- <section id="photos" class="full-page">
        <div class="section-body">
            <div class="container" style="position: relative;">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <h2 class="italic">Recent photos</h2>
                        <hr width="25%" />
                    </div>
                </div>
                <div class="row">
                    <div id="research-streams" class="col-lg-6">
                        <a href="streams.html" class="topic">Flickr</a>
                    </div>
                    <div class="col-lg-6">
                        <a href="streams.html" class="topic">Instagram</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="music" class="container content-section text-center">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2">
                <h2>Contact Start Bootstrap</h2>
                <p>Feel free to email us to provide some feedback on our templates, give us suggestions for new templates and themes, or to just say hello!</p>
                <p>feedback@startbootstrap.com</p>
                <ul class="list-inline banner-social-buttons">
                    <li><a href="https://twitter.com/SBootstrap" class="btn btn-default btn-lg"><i class="fa fa-twitter fa-fw"></i> <span class="network-name">Twitter</span></a>
                    </li>
                    <li><a href="https://github.com/IronSummitMedia/startbootstrap" class="btn btn-default btn-lg"><i class="fa fa-github fa-fw"></i> <span class="network-name">Github</span></a>
                    </li>
                    <li><a href="https://plus.google.com/+Startbootstrap/posts" class="btn btn-default btn-lg"><i class="fa fa-google-plus fa-fw"></i> <span class="network-name">Google+</span></a>
                    </li>
                </ul>
            </div>
        </div>
    </section> -->

    <!-- Core JavaScript Files -->
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script> -->
    <script src="js/jquery-1.10.2.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.easing.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/grayscale.js"></script>

    <!-- My JS stuff -->
    <script src="js/streams.js"></script>
    <script src="js/chaos.js"></script>
    <script src="js/utils.js"></script>

    <script type="text/javascript">

        function name_to_abbrev(name) {
            // Given a full name, return just initials until last name
            var names = name.split(" ");
            var lastName = names.slice(-1)[0];

            var returnName = "";
            for (var i=0; i < (names.length-1); i++) {
                returnName += names[i][0] + ". ";
            }
            return returnName + lastName
        }

        // Load recent paper list
        function get_paper_list(n) {
            if (n == undefined) { n = 3; }

            $.ajax({
                url: 'http://export.arxiv.org/api/query?search_query=au:price_whelan+cat:astro-ph&start=0&max_results=100&sortBy=submittedDate', // or lastUpdatedDate
                type: 'GET',
                dataType: "xml",
                async: false,
                success: function(xml) {
                    $("#recent-papers").empty();
                    var num = 0;
                    $(xml).find("entry").each(function(){
                        var title = $(this).find("title").text().replace(/(\r\n|\n|\r)/gm,""),
                            link = $(this).find("id").text(),
                            rawDate = $(this).find("published").text(),
                            firstAuthor = $(this).find("author").find("name").first().text();

                        // Author stuff
                        var lastName = firstAuthor.split(" ").slice(-1)[0];
                        if (lastName.toLowerCase() != "price-whelan") {
                            return;
                        }

                        var authors = $(this).find("author").find("name"),
                            strAuthor;
                        if (authors.length == 1) {
                            strAuthor = name_to_abbrev(authors.first().text());
                        } else if (authors.length == 2) {
                            strAuthor = name_to_abbrev(authors.first().text()) + " & " + name_to_abbrev(authors.last().text());
                        } else {
                            strAuthor = "";
                            for (var i=0; i < authors.length; i++) {
                                if (i == 0)
                                    strAuthor = name_to_abbrev($(authors[i]).text());
                                else
                                    strAuthor += ", " + name_to_abbrev($(authors[i]).text());
                                if (i >= 4) break;
                            }
                            // add et al. to end because there are more authors
                            if (i != authors.length)
                                strAuthor = strAuthor + " et al.";

                        }

                        var authorSpan = $('<span>');
                        authorSpan.addClass("author");
                        authorSpan.text(strAuthor);

                        // Date stuff
                        var date = rawDate.split("T")[0].split("-");
                        var dateSpan = $('<span>');
                        dateSpan.addClass('date');
                        dateSpan.text("(" + date[1] + "/" + date[0] + ")");

                        // Main paragraph element
                        var p = $('<p>');
                        p.css("opacity", 0.);

                        var a = $('<a>');
                        a.attr("href", link);
                        a.text(title);

                        p.append(dateSpan);
                        p.append(authorSpan);
                        p.append("<br/>")
                        p.append(a);
                        $("#recent-papers").append(p);
                        num = num + 1;

                        p.animate({ opacity: 1}, 1000);

                        if (num >= n) {
                            return false;
                        }
                    });
                },
                error: function (XMLHttpRequest, textStatus, errorThrown) {
                    var p = $('<p>');
                    p.html("Unable to retrieve paper list!");
                    p.addClass("error");
                    $("#recent-papers").append(p);
                }
            });
        }

        var streamSimulation,
            orbitSimulation;
        function make_stream(canvas) {
            // Display parameters
            var pixScale = 2.5,
                alpha = 0.2,
                dt = 1.,
                context = canvas.getContext('2d'),
                interval;

            // Galaxy parameters
            var nGalaxies = 4,
                nStarsPerGalaxy = 250,
                rScale = 0.025,
                vScale = 0.025,
                g, x, y, vx, vy;

            // has to go after context definition!?!
            canvas.width = $(".canvas-container").width();
            canvas.height = $(".canvas-container").height();

            // put the origin at the center of the canvas
            var x0 = canvas.width / 2. / pixScale,
                y0 = canvas.height / 2. / pixScale;

            // define the potential
            var potential = new AxisymLogPotential([x0, y0], vc=1., q=0.8, rc=0.);

            // create the simulation
            streamSimulation = new StreamSimulation(context, potential, pixScale, dt);

            // make galaxies
            var colors = ["#eeeeee", "#f4a582", "#92c5de", "#a6d96a"];
            // TODO: choose orbits based on energy and Lz?
            for (var i=0; i < nGalaxies; i++) {
                x = 2*Math.random() - 1.;
                y = 2*Math.random() - 1.;
                vx = (2*Math.random() - 1.)/2.;
                vy = (2*Math.random() - 1.)/2.;

                g = new GaussianGalaxy([x0+50*x,y0+50*y], [vx, vy], rScale, vScale,
                                        nStarsPerGalaxy, colors[parseInt(i%colors.length)],
                                        alpha);
                streamSimulation.clusters.push(g);
            }

            context.globalAlpha = alpha;
            streamSimulation.draw();

            $("#startStream").click(function() {
                interval = setInterval(streamDrawUpdate, 5);
            });
            $("#stopStream").click(function() {
                clearInterval(interval);
            });
        }

        function make_chaos(canvas) {
            var pixScale = 250,
                alpha = 0.05,
                dt = 0.1;
            chaosContext = canvas.getContext('2d');
            chaosContext.globalAlpha = alpha;

            // has to go after context definition!?!
            canvas.width = $(".canvas-container").width();
            canvas.height = $(".canvas-container").height();

            // put the origin at the center of the canvas
            var x0 = canvas.width / 2. / pixScale,
                y0 = canvas.height / 2. / pixScale;

            // define the potential
            var potential = new HenonHeilesPotential(x0, y0);
            orbitSimulation = new ChaosOrbit(canvas, potential, pixScale);

            // Cycle through resonant orbits in R,z?
            var regular1 = {
                position : [x0+0., y0+0.3],
                velocity : [0.421900462195, 0.]
            };
            var regular2 = {
                position : [x0+0., y0+0.],
                velocity : [0.433012701892, 0.25]
            };

            var chaotic1 = {
                position : [x0+0., y0-0.2],
                velocity : [0.452401002062, 0.]
            };
            var chaotic2 = {
                position : [x0+0., y0+0.2],
                velocity : [0.418728233265, 0.2]
            };

            orbitSimulation.orbits.push(new Orbit(regular1.position, regular1.velocity, "#eeeeee"));
            //orbitSimulation.orbit = new Orbit(regular2.position, regular2.velocity, "#f4a582");
            orbitSimulation.orbits.push(new Orbit(chaotic1.position, chaotic1.velocity, "#92c5de"));
            //orbitSimulation.orbit = new Orbit(chaotic2.position, chaotic2.velocity, "#a6d96a");

            // draw the zero velocity curve
            var ngrid = 1000,
                miny = -0.5,
                maxy = 2.,
                E = 1./8.;
            var dy = (maxy - miny) / parseFloat(ngrid);

            var pts = new Array();
            y = miny;
            for (var i=0; i<ngrid; i++) {
                x = Math.sqrt(((2/3.)*y*y*y - y*y + 2*E) / (2*y + 1));

                chaosContext.beginPath();
                chaosContext.fillStyle = "rgba(202, 0, 32, 0.2)";
                chaosContext.arc(x0*pixScale - x*pixScale, (y+y0)*pixScale, 1, 0,
                                 Math.PI*2,true);
                chaosContext.closePath();
                chaosContext.fill();

                chaosContext.beginPath();
                chaosContext.fillStyle = "rgba(202, 0, 32, 0.2)";
                chaosContext.arc(x0*pixScale+x*pixScale, (y+y0)*pixScale, 1, 0,
                                 Math.PI*2,true);
                chaosContext.closePath();
                chaosContext.fill();
                y += dy
            }
            chaosContext.restore()
        }

        function setupResearchSections() {
            // highlight initially selected research topic
            $("#select-streams").addClass("btn-filled");
            $("#research .row .btn").each(function(j,elem) {
                if (!$(elem).hasClass("btn-filled")) {
                    rowID = $(elem).attr("row");
                    $("#" + rowID).hide();
                }
            });

            $("#research .row .btn").click(function() {
                if ($(this).hasClass("btn-filled"))
                    return;

                $("#research .row .btn").each(function(j,elem) {
                    if ($(elem).hasClass("btn-filled")) {
                        $(elem).removeClass("btn-filled");
                        rowID = $(elem).attr("row");
                        $("#" + rowID).hide();
                    }
                });

                $(this).addClass("btn-filled");
                rowID = $(this).attr("row");
                $("#" + rowID).show();
            });
        }

        $(document).ready(function() {
            $(".full-page").height(window.innerHeight);
            $(".canvas-container").height(window.innerHeight/1.5*0.9);

            //get_paper_list();
            make_stream($("#stream-canvas")[0]);
            make_chaos($("#chaos-canvas")[0]);

            setupResearchSections();

        });

    </script>

 </body>

</html>
